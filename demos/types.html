<!DOCTYPE HTML> 
<html lang="en">
	<head>
		<title>Scribl - simple demo</title>
		<script  src="https://github.com/chmille4/Scribl/raw/v0.3.2/Scribl.min.js" ></script>
		<link rel="stylesheet" type="text/css" href="../css/demos.css" />
		
		<script type="text/javascript">
		  var _gaq = _gaq || [];
		  _gaq.push(['_setAccount', 'UA-21069282-1']);
		  _gaq.push(['_trackPageview']);

		  (function() {
		    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		  })();

		</script>
		
		<script> 

			function draw(canvasName) {  
					
					// Get Canvas and Create Chart
				  	var canvas = document.getElementById(canvasName);  	
					
					// Create Chart
					chart1 = new Scribl(canvas, 500);

					// Add Genes  with helper method
					gene1 = chart1.addGene( 0,    950 , '+');
					gene2 = chart1.addGene( 900,    750 , '-');
					// Add Gene with generic addFeature method
					gene3 = chart1.addFeature( new BlockArrow("gene", 3500, 2500, '+') );
					
					// Add protein with helper method
					protein1 = chart1.addProtein( 8100, 1000, '-');
					// Add protein with generic addFeature method
					protein2 = chart1.addFeature( new BlockArrow("protein", 6200, 1500, '+') );
					
					// Add custom types which do not have helper methods
					humanGene1 = chart1.addFeature( new BlockArrow("human", 1000,  1000, '-') );		
					humanGene2 = chart1.addFeature( new BlockArrow("human", 3500, 1500, '-') );		
					
					// Add Rect glyph
					track1 = chart1.addTrack();
					track1.height = 10;
					annotation1 = track1.addFeature( new Rect('annotation', 1000, 1000) );
					annotation2 = track1.addFeature( new Rect('annotation', 3500, 1500) );

					// set colors based on "type"
					// note: other attributes work identically (e.g. roundness, font, font color)
					chart1.gene.color = "yellow";
					chart1.protein.color = "green";
					chart1.human.color = "red"
					
					// set color for specific gene and overide type color
					gene1.color = "blue";
					
					// Draw Chart
					chart1.draw();
					
					// Create image of chart1
					var img = chart1.canvas.toDataURL("image/png");
					// Add link to download image
					document.getElementById('export').href = img;
			}
				
		</script>

	</head>  
	
	<body onload="draw('canvas')">
		<div id="description">
			<h2>Glyph Types Demo</h2><br/>
			<div>(Best viewed in Chrome/Safari)</div>
			Scribl takes custom types to group genes for easy managment
		</div><br/>
		<div id="container">
			<canvas id="canvas" width="547" height="330"></canvas>  
			</br><a id="export">Export as PNG (right click Save As)</a>
		</div>
		
	</body>
	
</html>